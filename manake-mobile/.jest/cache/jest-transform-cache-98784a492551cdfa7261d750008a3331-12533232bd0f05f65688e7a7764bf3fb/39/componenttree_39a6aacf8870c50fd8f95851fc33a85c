1df0b8c7c4dfb653c08ac9a99f35afad
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getHostChildren = getHostChildren;
exports.getHostParent = getHostParent;
exports.getHostSelves = getHostSelves;
exports.getHostSiblings = getHostSiblings;
exports.getUnsafeRootElement = getUnsafeRootElement;
exports.isHostElement = isHostElement;
function isHostElement(element) {
  return typeof (element == null ? void 0 : element.type) === 'string';
}
function getHostParent(element) {
  if (element == null) {
    return null;
  }
  var current = element.parent;
  while (current) {
    if (isHostElement(current)) {
      return current;
    }
    current = current.parent;
  }
  return null;
}
function getHostChildren(element) {
  if (element == null) {
    return [];
  }
  var hostChildren = [];
  element.children.forEach(function (child) {
    if (typeof child !== 'object') {
      return;
    }
    if (isHostElement(child)) {
      hostChildren.push(child);
    } else {
      hostChildren.push.apply(hostChildren, (0, _toConsumableArray2.default)(getHostChildren(child)));
    }
  });
  return hostChildren;
}
function getHostSelves(element) {
  return isHostElement(element) ? [element] : getHostChildren(element);
}
function getHostSiblings(element) {
  var hostParent = getHostParent(element);
  var hostSelves = getHostSelves(element);
  return getHostChildren(hostParent).filter(function (sibling) {
    return !hostSelves.includes(sibling);
  });
}
function getUnsafeRootElement(element) {
  if (element == null) {
    return null;
  }
  var current = element;
  while (current.parent) {
    current = current.parent;
  }
  return current;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJpc0hvc3RFbGVtZW50IiwiZWxlbWVudCIsInR5cGUiLCJnZXRIb3N0UGFyZW50IiwiY3VycmVudCIsInBhcmVudCIsImdldEhvc3RDaGlsZHJlbiIsImhvc3RDaGlsZHJlbiIsImNoaWxkcmVuIiwiZm9yRWFjaCIsImNoaWxkIiwicHVzaCIsImFwcGx5IiwiX3RvQ29uc3VtYWJsZUFycmF5MiIsImRlZmF1bHQiLCJnZXRIb3N0U2VsdmVzIiwiZ2V0SG9zdFNpYmxpbmdzIiwiaG9zdFBhcmVudCIsImhvc3RTZWx2ZXMiLCJmaWx0ZXIiLCJzaWJsaW5nIiwiaW5jbHVkZXMiLCJnZXRVbnNhZmVSb290RWxlbWVudCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL2NvbXBvbmVudC10cmVlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0VGVzdEluc3RhbmNlIH0gZnJvbSAncmVhY3QtdGVzdC1yZW5kZXJlcic7XG5cbi8qKlxuICogUmVhY3RUZXN0SW5zdGFuY2UgcmVmZXJyaW5nIHRvIGhvc3QgZWxlbWVudC5cbiAqL1xuZXhwb3J0IHR5cGUgSG9zdFRlc3RJbnN0YW5jZSA9IFJlYWN0VGVzdEluc3RhbmNlICYgeyB0eXBlOiBzdHJpbmcgfTtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaXMgYSBob3N0IGVsZW1lbnQuXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSG9zdEVsZW1lbnQoXG4gIGVsZW1lbnQ/OiBSZWFjdFRlc3RJbnN0YW5jZSB8IG51bGxcbik6IGVsZW1lbnQgaXMgSG9zdFRlc3RJbnN0YW5jZSB7XG4gIHJldHVybiB0eXBlb2YgZWxlbWVudD8udHlwZSA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogUmV0dXJucyBmaXJzdCBob3N0IGFuY2VzdG9yIGZvciBnaXZlbiBlbGVtZW50LlxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgc3RhcnQgdHJhdmVyc2luZyBmcm9tLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9zdFBhcmVudChcbiAgZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2UgfCBudWxsXG4pOiBIb3N0VGVzdEluc3RhbmNlIHwgbnVsbCB7XG4gIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxldCBjdXJyZW50ID0gZWxlbWVudC5wYXJlbnQ7XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgaWYgKGlzSG9zdEVsZW1lbnQoY3VycmVudCkpIHtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cblxuICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJldHVybnMgaG9zdCBjaGlsZHJlbiBmb3IgZ2l2ZW4gZWxlbWVudC5cbiAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHN0YXJ0IHRyYXZlcnNpbmcgZnJvbS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhvc3RDaGlsZHJlbihcbiAgZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2UgfCBudWxsXG4pOiBIb3N0VGVzdEluc3RhbmNlW10ge1xuICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgaG9zdENoaWxkcmVuOiBIb3N0VGVzdEluc3RhbmNlW10gPSBbXTtcblxuICBlbGVtZW50LmNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBjaGlsZCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNIb3N0RWxlbWVudChjaGlsZCkpIHtcbiAgICAgIGhvc3RDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9zdENoaWxkcmVuLnB1c2goLi4uZ2V0SG9zdENoaWxkcmVuKGNoaWxkKSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gaG9zdENoaWxkcmVuO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgYXJyYXkgb2YgaG9zdCBlbGVtZW50cyB0aGF0IHJlcHJlc2VudCB0aGUgcGFzc2VkIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgc3RhcnQgdHJhdmVyc2luZyBmcm9tLlxuICogQHJldHVybnMgSWYgdGhlIHBhc3NlZCBlbGVtZW50IGlzIGEgaG9zdCBlbGVtZW50LCBpdCB3aWxsIHJldHVybiBhbiBhcnJheSBjb250YWluaW5nIG9ubHkgdGhhdCBlbGVtZW50LFxuICogaWYgdGhlIHBhc3NlZCBlbGVtZW50IGlzIGEgY29tcG9zaXRlIGVsZW1lbnQsIGl0IHdpbGwgcmV0dXJuIGFuIGFycmF5IGNvbnRhaW5pbmcgaXRzIGhvc3QgY2hpbGRyZW4gKHplcm8sIG9uZSBvciBtYW55KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhvc3RTZWx2ZXMoXG4gIGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlIHwgbnVsbFxuKTogSG9zdFRlc3RJbnN0YW5jZVtdIHtcbiAgcmV0dXJuIGlzSG9zdEVsZW1lbnQoZWxlbWVudCkgPyBbZWxlbWVudF0gOiBnZXRIb3N0Q2hpbGRyZW4oZWxlbWVudCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBob3N0IHNpYmxpbmdzIGZvciBnaXZlbiBlbGVtZW50LlxuICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgc3RhcnQgdHJhdmVyc2luZyBmcm9tLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9zdFNpYmxpbmdzKFxuICBlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSB8IG51bGxcbik6IEhvc3RUZXN0SW5zdGFuY2VbXSB7XG4gIGNvbnN0IGhvc3RQYXJlbnQgPSBnZXRIb3N0UGFyZW50KGVsZW1lbnQpO1xuICBjb25zdCBob3N0U2VsdmVzID0gZ2V0SG9zdFNlbHZlcyhlbGVtZW50KTtcbiAgcmV0dXJuIGdldEhvc3RDaGlsZHJlbihob3N0UGFyZW50KS5maWx0ZXIoXG4gICAgKHNpYmxpbmcpID0+ICFob3N0U2VsdmVzLmluY2x1ZGVzKHNpYmxpbmcpXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdW5zYWZlIHJvb3QgZWxlbWVudCBvZiB0aGUgdHJlZSAocHJvYmFibHkgY29tcG9zaXRlKS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBzdGFydCB0cmF2ZXJzaW5nIGZyb20uXG4gKiBAcmV0dXJucyBUaGUgcm9vdCBlbGVtZW50IG9mIHRoZSB0cmVlIChob3N0IG9yIGNvbXBvc2l0ZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVbnNhZmVSb290RWxlbWVudChlbGVtZW50OiBSZWFjdFRlc3RJbnN0YW5jZSB8IG51bGwpIHtcbiAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IGN1cnJlbnQgPSBlbGVtZW50O1xuICB3aGlsZSAoY3VycmVudC5wYXJlbnQpIHtcbiAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gY3VycmVudDtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQVdPLFNBQVNBLGFBQWFBLENBQzNCQyxPQUFrQyxFQUNMO0VBQzdCLE9BQU8sUUFBT0EsT0FBTyxvQkFBUEEsT0FBTyxDQUFFQyxJQUFJLE1BQUssUUFBUTtBQUMxQztBQU1PLFNBQVNDLGFBQWFBLENBQzNCRixPQUFpQyxFQUNSO0VBQ3pCLElBQUlBLE9BQU8sSUFBSSxJQUFJLEVBQUU7SUFDbkIsT0FBTyxJQUFJO0VBQ2I7RUFFQSxJQUFJRyxPQUFPLEdBQUdILE9BQU8sQ0FBQ0ksTUFBTTtFQUM1QixPQUFPRCxPQUFPLEVBQUU7SUFDZCxJQUFJSixhQUFhLENBQUNJLE9BQU8sQ0FBQyxFQUFFO01BQzFCLE9BQU9BLE9BQU87SUFDaEI7SUFFQUEsT0FBTyxHQUFHQSxPQUFPLENBQUNDLE1BQU07RUFDMUI7RUFFQSxPQUFPLElBQUk7QUFDYjtBQU1PLFNBQVNDLGVBQWVBLENBQzdCTCxPQUFpQyxFQUNiO0VBQ3BCLElBQUlBLE9BQU8sSUFBSSxJQUFJLEVBQUU7SUFDbkIsT0FBTyxFQUFFO0VBQ1g7RUFFQSxJQUFNTSxZQUFnQyxHQUFHLEVBQUU7RUFFM0NOLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxPQUFPLENBQUUsVUFBQUMsS0FBSyxFQUFLO0lBQ2xDLElBQUksT0FBT0EsS0FBSyxLQUFLLFFBQVEsRUFBRTtNQUM3QjtJQUNGO0lBRUEsSUFBSVYsYUFBYSxDQUFDVSxLQUFLLENBQUMsRUFBRTtNQUN4QkgsWUFBWSxDQUFDSSxJQUFJLENBQUNELEtBQUssQ0FBQztJQUMxQixDQUFDLE1BQU07TUFDTEgsWUFBWSxDQUFDSSxJQUFJLENBQUFDLEtBQUEsQ0FBakJMLFlBQVksTUFBQU0sbUJBQUEsQ0FBQUMsT0FBQSxFQUFTUixlQUFlLENBQUNJLEtBQUssQ0FBQyxFQUFDO0lBQzlDO0VBQ0YsQ0FBQyxDQUFDO0VBRUYsT0FBT0gsWUFBWTtBQUNyQjtBQVNPLFNBQVNRLGFBQWFBLENBQzNCZCxPQUFpQyxFQUNiO0VBQ3BCLE9BQU9ELGFBQWEsQ0FBQ0MsT0FBTyxDQUFDLEdBQUcsQ0FBQ0EsT0FBTyxDQUFDLEdBQUdLLGVBQWUsQ0FBQ0wsT0FBTyxDQUFDO0FBQ3RFO0FBTU8sU0FBU2UsZUFBZUEsQ0FDN0JmLE9BQWlDLEVBQ2I7RUFDcEIsSUFBTWdCLFVBQVUsR0FBR2QsYUFBYSxDQUFDRixPQUFPLENBQUM7RUFDekMsSUFBTWlCLFVBQVUsR0FBR0gsYUFBYSxDQUFDZCxPQUFPLENBQUM7RUFDekMsT0FBT0ssZUFBZSxDQUFDVyxVQUFVLENBQUMsQ0FBQ0UsTUFBTSxDQUN0QyxVQUFBQyxPQUFPO0lBQUEsT0FBSyxDQUFDRixVQUFVLENBQUNHLFFBQVEsQ0FBQ0QsT0FBTyxDQUMzQztFQUFBLEVBQUM7QUFDSDtBQVFPLFNBQVNFLG9CQUFvQkEsQ0FBQ3JCLE9BQWlDLEVBQUU7RUFDdEUsSUFBSUEsT0FBTyxJQUFJLElBQUksRUFBRTtJQUNuQixPQUFPLElBQUk7RUFDYjtFQUVBLElBQUlHLE9BQU8sR0FBR0gsT0FBTztFQUNyQixPQUFPRyxPQUFPLENBQUNDLE1BQU0sRUFBRTtJQUNyQkQsT0FBTyxHQUFHQSxPQUFPLENBQUNDLE1BQU07RUFDMUI7RUFFQSxPQUFPRCxPQUFPO0FBQ2hCIiwiaWdub3JlTGlzdCI6W119