f04d452b7fe6ade1bbae62d679da739e
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toBePartiallyChecked = toBePartiallyChecked;
var _jestMatcherUtils = require("jest-matcher-utils");
var _accessiblity = require("../helpers/accessiblity");
var _errors = require("../helpers/errors");
var _utils = require("./utils");
function toBePartiallyChecked(element) {
  var _this = this;
  (0, _utils.checkHostElement)(element, toBePartiallyChecked, this);
  if (!hasValidAccessibilityRole(element)) {
    throw new _errors.ErrorWithStack('toBePartiallyChecked() works only on accessibility elements with "checkbox" role.', toBePartiallyChecked);
  }
  return {
    pass: (0, _accessiblity.getAccessibilityCheckedState)(element) === 'mixed',
    message: function message() {
      var is = _this.isNot ? 'is' : 'is not';
      return [(0, _jestMatcherUtils.matcherHint)(`${_this.isNot ? '.not' : ''}.toBePartiallyChecked`, 'element', ''), '', `Received element ${is} partially checked:`, (0, _utils.formatElement)(element)].join('\n');
    }
  };
}
function hasValidAccessibilityRole(element) {
  var role = (0, _accessiblity.getAccessibilityRole)(element);
  return (0, _accessiblity.isAccessibilityElement)(element) && role === 'checkbox';
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfamVzdE1hdGNoZXJVdGlscyIsInJlcXVpcmUiLCJfYWNjZXNzaWJsaXR5IiwiX2Vycm9ycyIsIl91dGlscyIsInRvQmVQYXJ0aWFsbHlDaGVja2VkIiwiZWxlbWVudCIsIl90aGlzIiwiY2hlY2tIb3N0RWxlbWVudCIsImhhc1ZhbGlkQWNjZXNzaWJpbGl0eVJvbGUiLCJFcnJvcldpdGhTdGFjayIsInBhc3MiLCJnZXRBY2Nlc3NpYmlsaXR5Q2hlY2tlZFN0YXRlIiwibWVzc2FnZSIsImlzIiwiaXNOb3QiLCJtYXRjaGVySGludCIsImZvcm1hdEVsZW1lbnQiLCJqb2luIiwicm9sZSIsImdldEFjY2Vzc2liaWxpdHlSb2xlIiwiaXNBY2Nlc3NpYmlsaXR5RWxlbWVudCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYXRjaGVycy90by1iZS1wYXJ0aWFsbHktY2hlY2tlZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSZWFjdFRlc3RJbnN0YW5jZSB9IGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXInO1xuaW1wb3J0IHsgbWF0Y2hlckhpbnQgfSBmcm9tICdqZXN0LW1hdGNoZXItdXRpbHMnO1xuaW1wb3J0IHtcbiAgZ2V0QWNjZXNzaWJpbGl0eUNoZWNrZWRTdGF0ZSxcbiAgZ2V0QWNjZXNzaWJpbGl0eVJvbGUsXG4gIGlzQWNjZXNzaWJpbGl0eUVsZW1lbnQsXG59IGZyb20gJy4uL2hlbHBlcnMvYWNjZXNzaWJsaXR5JztcbmltcG9ydCB7IEVycm9yV2l0aFN0YWNrIH0gZnJvbSAnLi4vaGVscGVycy9lcnJvcnMnO1xuaW1wb3J0IHsgY2hlY2tIb3N0RWxlbWVudCwgZm9ybWF0RWxlbWVudCB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9CZVBhcnRpYWxseUNoZWNrZWQoXG4gIHRoaXM6IGplc3QuTWF0Y2hlckNvbnRleHQsXG4gIGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlXG4pIHtcbiAgY2hlY2tIb3N0RWxlbWVudChlbGVtZW50LCB0b0JlUGFydGlhbGx5Q2hlY2tlZCwgdGhpcyk7XG5cbiAgaWYgKCFoYXNWYWxpZEFjY2Vzc2liaWxpdHlSb2xlKGVsZW1lbnQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yV2l0aFN0YWNrKFxuICAgICAgJ3RvQmVQYXJ0aWFsbHlDaGVja2VkKCkgd29ya3Mgb25seSBvbiBhY2Nlc3NpYmlsaXR5IGVsZW1lbnRzIHdpdGggXCJjaGVja2JveFwiIHJvbGUuJyxcbiAgICAgIHRvQmVQYXJ0aWFsbHlDaGVja2VkXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGFzczogZ2V0QWNjZXNzaWJpbGl0eUNoZWNrZWRTdGF0ZShlbGVtZW50KSA9PT0gJ21peGVkJyxcbiAgICBtZXNzYWdlOiAoKSA9PiB7XG4gICAgICBjb25zdCBpcyA9IHRoaXMuaXNOb3QgPyAnaXMnIDogJ2lzIG5vdCc7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBtYXRjaGVySGludChcbiAgICAgICAgICBgJHt0aGlzLmlzTm90ID8gJy5ub3QnIDogJyd9LnRvQmVQYXJ0aWFsbHlDaGVja2VkYCxcbiAgICAgICAgICAnZWxlbWVudCcsXG4gICAgICAgICAgJydcbiAgICAgICAgKSxcbiAgICAgICAgJycsXG4gICAgICAgIGBSZWNlaXZlZCBlbGVtZW50ICR7aXN9IHBhcnRpYWxseSBjaGVja2VkOmAsXG4gICAgICAgIGZvcm1hdEVsZW1lbnQoZWxlbWVudCksXG4gICAgICBdLmpvaW4oJ1xcbicpO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkQWNjZXNzaWJpbGl0eVJvbGUoZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2UpIHtcbiAgY29uc3Qgcm9sZSA9IGdldEFjY2Vzc2liaWxpdHlSb2xlKGVsZW1lbnQpO1xuICByZXR1cm4gaXNBY2Nlc3NpYmlsaXR5RWxlbWVudChlbGVtZW50KSAmJiByb2xlID09PSAnY2hlY2tib3gnO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxpQkFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRCxPQUFBO0FBS0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSCxPQUFBO0FBRU8sU0FBU0ksb0JBQW9CQSxDQUVsQ0MsT0FBMEIsRUFDMUI7RUFBQSxJQUFBQyxLQUFBO0VBQ0EsSUFBQUgsTUFBQSxDQUFBSSxnQkFBZ0IsRUFBQ0YsT0FBTyxFQUFFRCxvQkFBb0IsRUFBRSxJQUFJLENBQUM7RUFFckQsSUFBSSxDQUFDSSx5QkFBeUIsQ0FBQ0gsT0FBTyxDQUFDLEVBQUU7SUFDdkMsTUFBTSxJQUFJSCxPQUFBLENBQUFPLGNBQWMsQ0FDdEIsbUZBQW1GLEVBQ25GTCxvQkFDRixDQUFDO0VBQ0g7RUFFQSxPQUFPO0lBQ0xNLElBQUksRUFBRSxJQUFBVCxhQUFBLENBQUFVLDRCQUE0QixFQUFDTixPQUFPLENBQUMsS0FBSyxPQUFPO0lBQ3ZETyxPQUFPLEVBQUUsU0FBVEEsT0FBT0EsQ0FBQSxFQUFRO01BQ2IsSUFBTUMsRUFBRSxHQUFHUCxLQUFJLENBQUNRLEtBQUssR0FBRyxJQUFJLEdBQUcsUUFBUTtNQUN2QyxPQUFPLENBQ0wsSUFBQWYsaUJBQUEsQ0FBQWdCLFdBQVcsRUFDUixHQUFFVCxLQUFJLENBQUNRLEtBQUssR0FBRyxNQUFNLEdBQUcsRUFBRyx1QkFBc0IsRUFDbEQsU0FBUyxFQUNULEVBQ0YsQ0FBQyxFQUNELEVBQUUsRUFDRCxvQkFBbUJELEVBQUcscUJBQW9CLEVBQzNDLElBQUFWLE1BQUEsQ0FBQWEsYUFBYSxFQUFDWCxPQUFPLENBQUMsQ0FDdkIsQ0FBQ1ksSUFBSSxDQUFDLElBQUksQ0FBQztJQUNkO0VBQ0YsQ0FBQztBQUNIO0FBRUEsU0FBU1QseUJBQXlCQSxDQUFDSCxPQUEwQixFQUFFO0VBQzdELElBQU1hLElBQUksR0FBRyxJQUFBakIsYUFBQSxDQUFBa0Isb0JBQW9CLEVBQUNkLE9BQU8sQ0FBQztFQUMxQyxPQUFPLElBQUFKLGFBQUEsQ0FBQW1CLHNCQUFzQixFQUFDZixPQUFPLENBQUMsSUFBSWEsSUFBSSxLQUFLLFVBQVU7QUFDL0QiLCJpZ25vcmVMaXN0IjpbXX0=