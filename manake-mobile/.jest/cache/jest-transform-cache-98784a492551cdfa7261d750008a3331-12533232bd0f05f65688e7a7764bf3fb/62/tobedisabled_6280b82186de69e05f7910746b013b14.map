{"version":3,"names":["_jestMatcherUtils","require","_hostComponentNames","_textInput","_componentTree","_utils","toBeDisabled","element","_this","checkHostElement","isDisabled","isElementDisabled","isAncestorDisabled","pass","message","is","isNot","matcherHint","formatElement","join","toBeEnabled","_this2","isEnabled","_ref","isHostTextInput","isTextInputEditable","_element$props","props","accessibilityState","ariaDisabled","disabled","parent","getHostParent"],"sources":["../../src/matchers/to-be-disabled.tsx"],"sourcesContent":["import type { ReactTestInstance } from 'react-test-renderer';\nimport { matcherHint } from 'jest-matcher-utils';\nimport { isHostTextInput } from '../helpers/host-component-names';\nimport { isTextInputEditable } from '../helpers/text-input';\nimport { getHostParent } from '../helpers/component-tree';\nimport { checkHostElement, formatElement } from './utils';\n\nexport function toBeDisabled(\n  this: jest.MatcherContext,\n  element: ReactTestInstance\n) {\n  checkHostElement(element, toBeDisabled, this);\n\n  const isDisabled = isElementDisabled(element) || isAncestorDisabled(element);\n\n  return {\n    pass: isDisabled,\n    message: () => {\n      const is = this.isNot ? 'is' : 'is not';\n      return [\n        matcherHint(`${this.isNot ? '.not' : ''}.toBeDisabled`, 'element', ''),\n        '',\n        `Received element ${is} disabled:`,\n        formatElement(element),\n      ].join('\\n');\n    },\n  };\n}\n\nexport function toBeEnabled(\n  this: jest.MatcherContext,\n  element: ReactTestInstance\n) {\n  checkHostElement(element, toBeEnabled, this);\n\n  const isEnabled = !isElementDisabled(element) && !isAncestorDisabled(element);\n\n  return {\n    pass: isEnabled,\n    message: () => {\n      const is = this.isNot ? 'is' : 'is not';\n      return [\n        matcherHint(`${this.isNot ? '.not' : ''}.toBeEnabled`, 'element', ''),\n        '',\n        `Received element ${is} enabled:`,\n        formatElement(element),\n      ].join('\\n');\n    },\n  };\n}\n\nfunction isElementDisabled(element: ReactTestInstance) {\n  if (isHostTextInput(element) && !isTextInputEditable(element)) {\n    return true;\n  }\n\n  const { accessibilityState, 'aria-disabled': ariaDisabled } = element.props;\n  return ariaDisabled ?? accessibilityState?.disabled ?? false;\n}\n\nfunction isAncestorDisabled(element: ReactTestInstance): boolean {\n  const parent = getHostParent(element);\n  if (parent == null) {\n    return false;\n  }\n\n  return isElementDisabled(parent) || isAncestorDisabled(parent);\n}\n"],"mappings":";;;;;;;AACA,IAAAA,iBAAA,GAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,cAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AAEO,SAASK,YAAYA,CAE1BC,OAA0B,EAC1B;EAAA,IAAAC,KAAA;EACA,IAAAH,MAAA,CAAAI,gBAAgB,EAACF,OAAO,EAAED,YAAY,EAAE,IAAI,CAAC;EAE7C,IAAMI,UAAU,GAAGC,iBAAiB,CAACJ,OAAO,CAAC,IAAIK,kBAAkB,CAACL,OAAO,CAAC;EAE5E,OAAO;IACLM,IAAI,EAAEH,UAAU;IAChBI,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;MACb,IAAMC,EAAE,GAAGP,KAAI,CAACQ,KAAK,GAAG,IAAI,GAAG,QAAQ;MACvC,OAAO,CACL,IAAAhB,iBAAA,CAAAiB,WAAW,EAAE,GAAET,KAAI,CAACQ,KAAK,GAAG,MAAM,GAAG,EAAG,eAAc,EAAE,SAAS,EAAE,EAAE,CAAC,EACtE,EAAE,EACD,oBAAmBD,EAAG,YAAW,EAClC,IAAAV,MAAA,CAAAa,aAAa,EAACX,OAAO,CAAC,CACvB,CAACY,IAAI,CAAC,IAAI,CAAC;IACd;EACF,CAAC;AACH;AAEO,SAASC,WAAWA,CAEzBb,OAA0B,EAC1B;EAAA,IAAAc,MAAA;EACA,IAAAhB,MAAA,CAAAI,gBAAgB,EAACF,OAAO,EAAEa,WAAW,EAAE,IAAI,CAAC;EAE5C,IAAME,SAAS,GAAG,CAACX,iBAAiB,CAACJ,OAAO,CAAC,IAAI,CAACK,kBAAkB,CAACL,OAAO,CAAC;EAE7E,OAAO;IACLM,IAAI,EAAES,SAAS;IACfR,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;MACb,IAAMC,EAAE,GAAGM,MAAI,CAACL,KAAK,GAAG,IAAI,GAAG,QAAQ;MACvC,OAAO,CACL,IAAAhB,iBAAA,CAAAiB,WAAW,EAAE,GAAEI,MAAI,CAACL,KAAK,GAAG,MAAM,GAAG,EAAG,cAAa,EAAE,SAAS,EAAE,EAAE,CAAC,EACrE,EAAE,EACD,oBAAmBD,EAAG,WAAU,EACjC,IAAAV,MAAA,CAAAa,aAAa,EAACX,OAAO,CAAC,CACvB,CAACY,IAAI,CAAC,IAAI,CAAC;IACd;EACF,CAAC;AACH;AAEA,SAASR,iBAAiBA,CAACJ,OAA0B,EAAE;EAAA,IAAAgB,IAAA;EACrD,IAAI,IAAArB,mBAAA,CAAAsB,eAAe,EAACjB,OAAO,CAAC,IAAI,CAAC,IAAAJ,UAAA,CAAAsB,mBAAmB,EAAClB,OAAO,CAAC,EAAE;IAC7D,OAAO,IAAI;EACb;EAEA,IAAAmB,cAAA,GAA8DnB,OAAO,CAACoB,KAAK;IAAnEC,kBAAkB,GAAAF,cAAA,CAAlBE,kBAAkB;IAAmBC,YAAA,GAAAH,cAAA,CAAjB,eAAe;EAC3C,QAAAH,IAAA,GAAOM,YAAY,WAAZA,YAAY,GAAID,kBAAkB,oBAAlBA,kBAAkB,CAAEE,QAAQ,YAAAP,IAAA,GAAI,KAAK;AAC9D;AAEA,SAASX,kBAAkBA,CAACL,OAA0B,EAAW;EAC/D,IAAMwB,MAAM,GAAG,IAAA3B,cAAA,CAAA4B,aAAa,EAACzB,OAAO,CAAC;EACrC,IAAIwB,MAAM,IAAI,IAAI,EAAE;IAClB,OAAO,KAAK;EACd;EAEA,OAAOpB,iBAAiB,CAACoB,MAAM,CAAC,IAAInB,kBAAkB,CAACmB,MAAM,CAAC;AAChE","ignoreList":[]}