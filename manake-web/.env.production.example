# Manake Platform - Production Environment Variables
# ================================================
# Copy this file to .env.production and fill in your production values
# NEVER commit actual secrets to version control!

### Server Configuration
NODE_ENV=production
PORT=3001

### Frontend / API URLs
# For Netlify deployment with serverless functions:
VITE_API_URL=/.netlify/functions/api
FRONTEND_URL=https://your-domain.netlify.app
VITE_SENTRY_DSN=

### Database - MongoDB Atlas
# Create a cluster at https://cloud.mongodb.com
# Use a connection string with proper authentication
MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/manake?retryWrites=true&w=majority

### JWT Secrets
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# MUST be at least 32 characters
JWT_SECRET=<generate-a-64-char-random-hex-string>
JWT_REFRESH_SECRET=<generate-another-64-char-random-hex-string>
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

### Stripe Payment Processing
# Get from https://dashboard.stripe.com/apikeys
VITE_STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

### Email Service (SMTP)
# Option 1: SendGrid (recommended)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=<your-sendgrid-api-key>
FROM_EMAIL=noreply@manake.org

# Option 2: Gmail (for testing only)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-gmail@gmail.com
# SMTP_PASS=<app-specific-password>

# Option 3: AWS SES
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=<aws-smtp-user>
# SMTP_PASS=<aws-smtp-password>

### OAuth - Google
# Get from https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=<your-google-client-id>.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=<your-google-client-secret>

### OAuth - Facebook
# Get from https://developers.facebook.com/apps
FACEBOOK_APP_ID=<your-facebook-app-id>
FACEBOOK_APP_SECRET=<your-facebook-app-secret>

### OAuth - Apple Sign In
# Get from https://developer.apple.com/account/resources/identifiers
APPLE_CLIENT_ID=<your-apple-services-id>
APPLE_TEAM_ID=<your-apple-team-id>
APPLE_KEY_ID=<your-apple-key-id>
# Paste the private key with \n for newlines:
APPLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----

### Push Notifications (Expo)
# Get from https://expo.dev/accounts/[account]/settings/access-tokens
EXPO_ACCESS_TOKEN=<your-expo-access-token>

### File Uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

### Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ================================================
# DEPLOYMENT CHECKLIST
# ================================================
# 
# Netlify Deployment:
# 1. Go to Site settings > Environment variables
# 2. Add each variable above
# 3. Redeploy after adding variables
#
# Heroku Deployment:
# heroku config:set MONGODB_URI="..." JWT_SECRET="..." ...
#
# Docker Deployment:
# Pass as -e flags or use docker-compose with env_file
#
# ================================================
# SECURITY REMINDERS
# ================================================
# 
# 1. Never expose secrets in frontend code
# 2. Use different secrets for staging and production
# 3. Rotate secrets periodically
# 4. Enable 2FA on all service provider accounts
# 5. Review access logs regularly
# 
