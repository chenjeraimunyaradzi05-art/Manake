{"version":3,"names":["_jestMatcherUtils","require","_utils","toHaveProp","element","name","expectedValue","_this","checkHostElement","isExpectedValueDefined","undefined","hasProp","props","receivedValue","pass","equals","message","to","isNot","matcher","matcherHint","printExpected","secondArgument","formatMessage","formatProp","value","stringify"],"sources":["../../src/matchers/to-have-prop.ts"],"sourcesContent":["import type { ReactTestInstance } from 'react-test-renderer';\nimport { matcherHint, stringify, printExpected } from 'jest-matcher-utils';\nimport { checkHostElement, formatMessage } from './utils';\n\nexport function toHaveProp(\n  this: jest.MatcherContext,\n  element: ReactTestInstance,\n  name: string,\n  expectedValue: unknown\n) {\n  checkHostElement(element, toHaveProp, this);\n\n  const isExpectedValueDefined = expectedValue !== undefined;\n  const hasProp = name in element.props;\n  const receivedValue = element.props[name];\n\n  const pass = isExpectedValueDefined\n    ? hasProp && this.equals(expectedValue, receivedValue)\n    : hasProp;\n\n  return {\n    pass,\n    message: () => {\n      const to = this.isNot ? 'not to' : 'to';\n      const matcher = matcherHint(\n        `${this.isNot ? '.not' : ''}.toHaveProp`,\n        'element',\n        printExpected(name),\n        {\n          secondArgument: isExpectedValueDefined\n            ? printExpected(expectedValue)\n            : undefined,\n        }\n      );\n      return formatMessage(\n        matcher,\n        `Expected element ${to} have prop`,\n        formatProp(name, expectedValue),\n        'Received',\n        hasProp ? formatProp(name, receivedValue) : undefined\n      );\n    },\n  };\n}\n\nfunction formatProp(name: string, value: unknown) {\n  if (value === undefined) {\n    return name;\n  }\n\n  if (typeof value === 'string') {\n    return `${name}=\"${value}\"`;\n  }\n\n  return `${name}={${stringify(value)}}`;\n}\n"],"mappings":";;;;;;AACA,IAAAA,iBAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAEO,SAASE,UAAUA,CAExBC,OAA0B,EAC1BC,IAAY,EACZC,aAAsB,EACtB;EAAA,IAAAC,KAAA;EACA,IAAAL,MAAA,CAAAM,gBAAgB,EAACJ,OAAO,EAAED,UAAU,EAAE,IAAI,CAAC;EAE3C,IAAMM,sBAAsB,GAAGH,aAAa,KAAKI,SAAS;EAC1D,IAAMC,OAAO,GAAGN,IAAI,IAAID,OAAO,CAACQ,KAAK;EACrC,IAAMC,aAAa,GAAGT,OAAO,CAACQ,KAAK,CAACP,IAAI,CAAC;EAEzC,IAAMS,IAAI,GAAGL,sBAAsB,GAC/BE,OAAO,IAAI,IAAI,CAACI,MAAM,CAACT,aAAa,EAAEO,aAAa,CAAC,GACpDF,OAAO;EAEX,OAAO;IACLG,IAAI,EAAJA,IAAI;IACJE,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;MACb,IAAMC,EAAE,GAAGV,KAAI,CAACW,KAAK,GAAG,QAAQ,GAAG,IAAI;MACvC,IAAMC,OAAO,GAAG,IAAAnB,iBAAA,CAAAoB,WAAW,EACxB,GAAEb,KAAI,CAACW,KAAK,GAAG,MAAM,GAAG,EAAG,aAAY,EACxC,SAAS,EACT,IAAAlB,iBAAA,CAAAqB,aAAa,EAAChB,IAAI,CAAC,EACnB;QACEiB,cAAc,EAAEb,sBAAsB,GAClC,IAAAT,iBAAA,CAAAqB,aAAa,EAACf,aAAa,CAAC,GAC5BI;MACN,CACF,CAAC;MACD,OAAO,IAAAR,MAAA,CAAAqB,aAAa,EAClBJ,OAAO,EACN,oBAAmBF,EAAG,YAAW,EAClCO,UAAU,CAACnB,IAAI,EAAEC,aAAa,CAAC,EAC/B,UAAU,EACVK,OAAO,GAAGa,UAAU,CAACnB,IAAI,EAAEQ,aAAa,CAAC,GAAGH,SAC9C,CAAC;IACH;EACF,CAAC;AACH;AAEA,SAASc,UAAUA,CAACnB,IAAY,EAAEoB,KAAc,EAAE;EAChD,IAAIA,KAAK,KAAKf,SAAS,EAAE;IACvB,OAAOL,IAAI;EACb;EAEA,IAAI,OAAOoB,KAAK,KAAK,QAAQ,EAAE;IAC7B,OAAQ,GAAEpB,IAAK,KAAIoB,KAAM,GAAE;EAC7B;EAEA,OAAQ,GAAEpB,IAAK,KAAI,IAAAL,iBAAA,CAAA0B,SAAS,EAACD,KAAK,CAAE,GAAE;AACxC","ignoreList":[]}