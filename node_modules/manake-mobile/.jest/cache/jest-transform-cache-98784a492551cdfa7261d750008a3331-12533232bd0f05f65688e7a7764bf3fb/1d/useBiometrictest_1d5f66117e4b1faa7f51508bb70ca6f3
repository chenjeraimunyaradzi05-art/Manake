a927fbbb7bf988387d94e07b070d4113
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _biometric = require("../../services/biometric");
describe('biometric helpers', function () {
  beforeEach(function () {
    jest.clearAllMocks();
  });
  it('reports available when hardware + enrolled', (0, _asyncToGenerator2.default)(function* () {
    var status = yield (0, _biometric.getBiometricStatus)();
    expect(status.isAvailable).toBe(true);
    expect(status.isEnrolled).toBe(true);
    expect(status.biometricType).toBe('fingerprint');
  }));
  it('authenticate returns success true when module succeeds', (0, _asyncToGenerator2.default)(function* () {
    var result = yield (0, _biometric.authenticateBiometric)({
      promptMessage: 'Test',
      cancelLabel: 'Cancel',
      fallbackLabel: 'Use passcode',
      disableDeviceFallback: false
    });
    expect(result.success).toBe(true);
  }));
  it('handles unenrolled devices', (0, _asyncToGenerator2.default)(function* () {
    var mod = require('expo-local-authentication');
    mod.isEnrolledAsync.mockResolvedValueOnce(false);
    var status = yield (0, _biometric.getBiometricStatus)();
    expect(status.isAvailable).toBe(false);
    expect(status.isEnrolled).toBe(false);
    expect(status.biometricType).toBe('none');
  }));
  it('provides human readable labels', function () {
    expect((0, _biometric.getBiometricLabel)('fingerprint')).toBe('Fingerprint');
    expect((0, _biometric.getBiometricLabel)('facial')).toBe('Face ID');
    expect((0, _biometric.getBiometricLabel)('iris')).toBe('Iris');
    expect((0, _biometric.getBiometricLabel)('none')).toBe('Biometrics');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmlvbWV0cmljIiwicmVxdWlyZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImplc3QiLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJkZWZhdWx0Iiwic3RhdHVzIiwiZ2V0QmlvbWV0cmljU3RhdHVzIiwiZXhwZWN0IiwiaXNBdmFpbGFibGUiLCJ0b0JlIiwiaXNFbnJvbGxlZCIsImJpb21ldHJpY1R5cGUiLCJyZXN1bHQiLCJhdXRoZW50aWNhdGVCaW9tZXRyaWMiLCJwcm9tcHRNZXNzYWdlIiwiY2FuY2VsTGFiZWwiLCJmYWxsYmFja0xhYmVsIiwiZGlzYWJsZURldmljZUZhbGxiYWNrIiwic3VjY2VzcyIsIm1vZCIsImlzRW5yb2xsZWRBc3luYyIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsImdldEJpb21ldHJpY0xhYmVsIl0sInNvdXJjZXMiOlsidXNlQmlvbWV0cmljLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBhdXRoZW50aWNhdGVCaW9tZXRyaWMsXHJcbiAgZ2V0QmlvbWV0cmljTGFiZWwsXHJcbiAgZ2V0QmlvbWV0cmljU3RhdHVzLFxyXG59IGZyb20gJy4uLy4uL3NlcnZpY2VzL2Jpb21ldHJpYyc7XHJcblxyXG5kZXNjcmliZSgnYmlvbWV0cmljIGhlbHBlcnMnLCAoKSA9PiB7XHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3JlcG9ydHMgYXZhaWxhYmxlIHdoZW4gaGFyZHdhcmUgKyBlbnJvbGxlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IGdldEJpb21ldHJpY1N0YXR1cygpO1xyXG4gICAgZXhwZWN0KHN0YXR1cy5pc0F2YWlsYWJsZSkudG9CZSh0cnVlKTtcclxuICAgIGV4cGVjdChzdGF0dXMuaXNFbnJvbGxlZCkudG9CZSh0cnVlKTtcclxuICAgIGV4cGVjdChzdGF0dXMuYmlvbWV0cmljVHlwZSkudG9CZSgnZmluZ2VycHJpbnQnKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2F1dGhlbnRpY2F0ZSByZXR1cm5zIHN1Y2Nlc3MgdHJ1ZSB3aGVuIG1vZHVsZSBzdWNjZWVkcycsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhlbnRpY2F0ZUJpb21ldHJpYyh7XHJcbiAgICAgIHByb21wdE1lc3NhZ2U6ICdUZXN0JyxcclxuICAgICAgY2FuY2VsTGFiZWw6ICdDYW5jZWwnLFxyXG4gICAgICBmYWxsYmFja0xhYmVsOiAnVXNlIHBhc3Njb2RlJyxcclxuICAgICAgZGlzYWJsZURldmljZUZhbGxiYWNrOiBmYWxzZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ2hhbmRsZXMgdW5lbnJvbGxlZCBkZXZpY2VzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9kID0gcmVxdWlyZSgnZXhwby1sb2NhbC1hdXRoZW50aWNhdGlvbicpO1xyXG4gICAgbW9kLmlzRW5yb2xsZWRBc3luYy5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IGdldEJpb21ldHJpY1N0YXR1cygpO1xyXG4gICAgZXhwZWN0KHN0YXR1cy5pc0F2YWlsYWJsZSkudG9CZShmYWxzZSk7XHJcbiAgICBleHBlY3Qoc3RhdHVzLmlzRW5yb2xsZWQpLnRvQmUoZmFsc2UpO1xyXG4gICAgZXhwZWN0KHN0YXR1cy5iaW9tZXRyaWNUeXBlKS50b0JlKCdub25lJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdwcm92aWRlcyBodW1hbiByZWFkYWJsZSBsYWJlbHMnLCAoKSA9PiB7XHJcbiAgICBleHBlY3QoZ2V0QmlvbWV0cmljTGFiZWwoJ2ZpbmdlcnByaW50JykpLnRvQmUoJ0ZpbmdlcnByaW50Jyk7XHJcbiAgICBleHBlY3QoZ2V0QmlvbWV0cmljTGFiZWwoJ2ZhY2lhbCcpKS50b0JlKCdGYWNlIElEJyk7XHJcbiAgICBleHBlY3QoZ2V0QmlvbWV0cmljTGFiZWwoJ2lyaXMnKSkudG9CZSgnSXJpcycpO1xyXG4gICAgZXhwZWN0KGdldEJpb21ldHJpY0xhYmVsKCdub25lJykpLnRvQmUoJ0Jpb21ldHJpY3MnKTtcclxuICB9KTtcclxufSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLE9BQUE7QUFNQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLFlBQU07RUFDbENDLFVBQVUsQ0FBQyxZQUFNO0lBQ2ZDLElBQUksQ0FBQ0MsYUFBYSxDQUFDLENBQUM7RUFDdEIsQ0FBQyxDQUFDO0VBRUZDLEVBQUUsQ0FBQyw0Q0FBNEMsTUFBQUMsa0JBQUEsQ0FBQUMsT0FBQSxFQUFFLGFBQVk7SUFDM0QsSUFBTUMsTUFBTSxTQUFTLElBQUFDLDZCQUFrQixFQUFDLENBQUM7SUFDekNDLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDRyxXQUFXLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQztJQUNyQ0YsTUFBTSxDQUFDRixNQUFNLENBQUNLLFVBQVUsQ0FBQyxDQUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3BDRixNQUFNLENBQUNGLE1BQU0sQ0FBQ00sYUFBYSxDQUFDLENBQUNGLElBQUksQ0FBQyxhQUFhLENBQUM7RUFDbEQsQ0FBQyxFQUFDO0VBRUZQLEVBQUUsQ0FBQyx3REFBd0QsTUFBQUMsa0JBQUEsQ0FBQUMsT0FBQSxFQUFFLGFBQVk7SUFDdkUsSUFBTVEsTUFBTSxTQUFTLElBQUFDLGdDQUFxQixFQUFDO01BQ3pDQyxhQUFhLEVBQUUsTUFBTTtNQUNyQkMsV0FBVyxFQUFFLFFBQVE7TUFDckJDLGFBQWEsRUFBRSxjQUFjO01BQzdCQyxxQkFBcUIsRUFBRTtJQUN6QixDQUFDLENBQUM7SUFFRlYsTUFBTSxDQUFDSyxNQUFNLENBQUNNLE9BQU8sQ0FBQyxDQUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDO0VBQ25DLENBQUMsRUFBQztFQUVGUCxFQUFFLENBQUMsNEJBQTRCLE1BQUFDLGtCQUFBLENBQUFDLE9BQUEsRUFBRSxhQUFZO0lBQzNDLElBQU1lLEdBQUcsR0FBR3RCLE9BQU8sQ0FBQywyQkFBMkIsQ0FBQztJQUNoRHNCLEdBQUcsQ0FBQ0MsZUFBZSxDQUFDQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUM7SUFFaEQsSUFBTWhCLE1BQU0sU0FBUyxJQUFBQyw2QkFBa0IsRUFBQyxDQUFDO0lBQ3pDQyxNQUFNLENBQUNGLE1BQU0sQ0FBQ0csV0FBVyxDQUFDLENBQUNDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdENGLE1BQU0sQ0FBQ0YsTUFBTSxDQUFDSyxVQUFVLENBQUMsQ0FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNyQ0YsTUFBTSxDQUFDRixNQUFNLENBQUNNLGFBQWEsQ0FBQyxDQUFDRixJQUFJLENBQUMsTUFBTSxDQUFDO0VBQzNDLENBQUMsRUFBQztFQUVGUCxFQUFFLENBQUMsZ0NBQWdDLEVBQUUsWUFBTTtJQUN6Q0ssTUFBTSxDQUFDLElBQUFlLDRCQUFpQixFQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUNiLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDNURGLE1BQU0sQ0FBQyxJQUFBZSw0QkFBaUIsRUFBQyxRQUFRLENBQUMsQ0FBQyxDQUFDYixJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ25ERixNQUFNLENBQUMsSUFBQWUsNEJBQWlCLEVBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM5Q0YsTUFBTSxDQUFDLElBQUFlLDRCQUFpQixFQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUNiLElBQUksQ0FBQyxZQUFZLENBQUM7RUFDdEQsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119