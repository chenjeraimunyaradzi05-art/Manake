a6a51e8e61fddbcb1b41bb903b77b3b2
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toBeDisabled = toBeDisabled;
exports.toBeEnabled = toBeEnabled;
var _jestMatcherUtils = require("jest-matcher-utils");
var _hostComponentNames = require("../helpers/host-component-names");
var _textInput = require("../helpers/text-input");
var _componentTree = require("../helpers/component-tree");
var _utils = require("./utils");
function toBeDisabled(element) {
  var _this = this;
  (0, _utils.checkHostElement)(element, toBeDisabled, this);
  var isDisabled = isElementDisabled(element) || isAncestorDisabled(element);
  return {
    pass: isDisabled,
    message: function message() {
      var is = _this.isNot ? 'is' : 'is not';
      return [(0, _jestMatcherUtils.matcherHint)(`${_this.isNot ? '.not' : ''}.toBeDisabled`, 'element', ''), '', `Received element ${is} disabled:`, (0, _utils.formatElement)(element)].join('\n');
    }
  };
}
function toBeEnabled(element) {
  var _this2 = this;
  (0, _utils.checkHostElement)(element, toBeEnabled, this);
  var isEnabled = !isElementDisabled(element) && !isAncestorDisabled(element);
  return {
    pass: isEnabled,
    message: function message() {
      var is = _this2.isNot ? 'is' : 'is not';
      return [(0, _jestMatcherUtils.matcherHint)(`${_this2.isNot ? '.not' : ''}.toBeEnabled`, 'element', ''), '', `Received element ${is} enabled:`, (0, _utils.formatElement)(element)].join('\n');
    }
  };
}
function isElementDisabled(element) {
  var _ref;
  if ((0, _hostComponentNames.isHostTextInput)(element) && !(0, _textInput.isTextInputEditable)(element)) {
    return true;
  }
  var _element$props = element.props,
    accessibilityState = _element$props.accessibilityState,
    ariaDisabled = _element$props['aria-disabled'];
  return (_ref = ariaDisabled != null ? ariaDisabled : accessibilityState == null ? void 0 : accessibilityState.disabled) != null ? _ref : false;
}
function isAncestorDisabled(element) {
  var parent = (0, _componentTree.getHostParent)(element);
  if (parent == null) {
    return false;
  }
  return isElementDisabled(parent) || isAncestorDisabled(parent);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfamVzdE1hdGNoZXJVdGlscyIsInJlcXVpcmUiLCJfaG9zdENvbXBvbmVudE5hbWVzIiwiX3RleHRJbnB1dCIsIl9jb21wb25lbnRUcmVlIiwiX3V0aWxzIiwidG9CZURpc2FibGVkIiwiZWxlbWVudCIsIl90aGlzIiwiY2hlY2tIb3N0RWxlbWVudCIsImlzRGlzYWJsZWQiLCJpc0VsZW1lbnREaXNhYmxlZCIsImlzQW5jZXN0b3JEaXNhYmxlZCIsInBhc3MiLCJtZXNzYWdlIiwiaXMiLCJpc05vdCIsIm1hdGNoZXJIaW50IiwiZm9ybWF0RWxlbWVudCIsImpvaW4iLCJ0b0JlRW5hYmxlZCIsIl90aGlzMiIsImlzRW5hYmxlZCIsIl9yZWYiLCJpc0hvc3RUZXh0SW5wdXQiLCJpc1RleHRJbnB1dEVkaXRhYmxlIiwiX2VsZW1lbnQkcHJvcHMiLCJwcm9wcyIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImFyaWFEaXNhYmxlZCIsImRpc2FibGVkIiwicGFyZW50IiwiZ2V0SG9zdFBhcmVudCJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYXRjaGVycy90by1iZS1kaXNhYmxlZC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBSZWFjdFRlc3RJbnN0YW5jZSB9IGZyb20gJ3JlYWN0LXRlc3QtcmVuZGVyZXInO1xuaW1wb3J0IHsgbWF0Y2hlckhpbnQgfSBmcm9tICdqZXN0LW1hdGNoZXItdXRpbHMnO1xuaW1wb3J0IHsgaXNIb3N0VGV4dElucHV0IH0gZnJvbSAnLi4vaGVscGVycy9ob3N0LWNvbXBvbmVudC1uYW1lcyc7XG5pbXBvcnQgeyBpc1RleHRJbnB1dEVkaXRhYmxlIH0gZnJvbSAnLi4vaGVscGVycy90ZXh0LWlucHV0JztcbmltcG9ydCB7IGdldEhvc3RQYXJlbnQgfSBmcm9tICcuLi9oZWxwZXJzL2NvbXBvbmVudC10cmVlJztcbmltcG9ydCB7IGNoZWNrSG9zdEVsZW1lbnQsIGZvcm1hdEVsZW1lbnQgfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvQmVEaXNhYmxlZChcbiAgdGhpczogamVzdC5NYXRjaGVyQ29udGV4dCxcbiAgZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2Vcbikge1xuICBjaGVja0hvc3RFbGVtZW50KGVsZW1lbnQsIHRvQmVEaXNhYmxlZCwgdGhpcyk7XG5cbiAgY29uc3QgaXNEaXNhYmxlZCA9IGlzRWxlbWVudERpc2FibGVkKGVsZW1lbnQpIHx8IGlzQW5jZXN0b3JEaXNhYmxlZChlbGVtZW50KTtcblxuICByZXR1cm4ge1xuICAgIHBhc3M6IGlzRGlzYWJsZWQsXG4gICAgbWVzc2FnZTogKCkgPT4ge1xuICAgICAgY29uc3QgaXMgPSB0aGlzLmlzTm90ID8gJ2lzJyA6ICdpcyBub3QnO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgbWF0Y2hlckhpbnQoYCR7dGhpcy5pc05vdCA/ICcubm90JyA6ICcnfS50b0JlRGlzYWJsZWRgLCAnZWxlbWVudCcsICcnKSxcbiAgICAgICAgJycsXG4gICAgICAgIGBSZWNlaXZlZCBlbGVtZW50ICR7aXN9IGRpc2FibGVkOmAsXG4gICAgICAgIGZvcm1hdEVsZW1lbnQoZWxlbWVudCksXG4gICAgICBdLmpvaW4oJ1xcbicpO1xuICAgIH0sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0JlRW5hYmxlZChcbiAgdGhpczogamVzdC5NYXRjaGVyQ29udGV4dCxcbiAgZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2Vcbikge1xuICBjaGVja0hvc3RFbGVtZW50KGVsZW1lbnQsIHRvQmVFbmFibGVkLCB0aGlzKTtcblxuICBjb25zdCBpc0VuYWJsZWQgPSAhaXNFbGVtZW50RGlzYWJsZWQoZWxlbWVudCkgJiYgIWlzQW5jZXN0b3JEaXNhYmxlZChlbGVtZW50KTtcblxuICByZXR1cm4ge1xuICAgIHBhc3M6IGlzRW5hYmxlZCxcbiAgICBtZXNzYWdlOiAoKSA9PiB7XG4gICAgICBjb25zdCBpcyA9IHRoaXMuaXNOb3QgPyAnaXMnIDogJ2lzIG5vdCc7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBtYXRjaGVySGludChgJHt0aGlzLmlzTm90ID8gJy5ub3QnIDogJyd9LnRvQmVFbmFibGVkYCwgJ2VsZW1lbnQnLCAnJyksXG4gICAgICAgICcnLFxuICAgICAgICBgUmVjZWl2ZWQgZWxlbWVudCAke2lzfSBlbmFibGVkOmAsXG4gICAgICAgIGZvcm1hdEVsZW1lbnQoZWxlbWVudCksXG4gICAgICBdLmpvaW4oJ1xcbicpO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzRWxlbWVudERpc2FibGVkKGVsZW1lbnQ6IFJlYWN0VGVzdEluc3RhbmNlKSB7XG4gIGlmIChpc0hvc3RUZXh0SW5wdXQoZWxlbWVudCkgJiYgIWlzVGV4dElucHV0RWRpdGFibGUoZWxlbWVudCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IHsgYWNjZXNzaWJpbGl0eVN0YXRlLCAnYXJpYS1kaXNhYmxlZCc6IGFyaWFEaXNhYmxlZCB9ID0gZWxlbWVudC5wcm9wcztcbiAgcmV0dXJuIGFyaWFEaXNhYmxlZCA/PyBhY2Nlc3NpYmlsaXR5U3RhdGU/LmRpc2FibGVkID8/IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc0FuY2VzdG9yRGlzYWJsZWQoZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2UpOiBib29sZWFuIHtcbiAgY29uc3QgcGFyZW50ID0gZ2V0SG9zdFBhcmVudChlbGVtZW50KTtcbiAgaWYgKHBhcmVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGlzRWxlbWVudERpc2FibGVkKHBhcmVudCkgfHwgaXNBbmNlc3RvckRpc2FibGVkKHBhcmVudCk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQSxJQUFBQSxpQkFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsbUJBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLGNBQUEsR0FBQUgsT0FBQTtBQUNBLElB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