{"version":3,"names":["_jestMatcherUtils","require","_accessiblity","_errors","_utils","toBeChecked","element","_this","checkHostElement","hasValidAccessibilityRole","ErrorWithStack","pass","getAccessibilityCheckedState","message","is","isNot","matcherHint","formatElement","join","isAccessibilityElement","role","getAccessibilityRole"],"sources":["../../src/matchers/to-be-checked.tsx"],"sourcesContent":["import type { ReactTestInstance } from 'react-test-renderer';\nimport { matcherHint } from 'jest-matcher-utils';\nimport {\n  getAccessibilityCheckedState,\n  getAccessibilityRole,\n  isAccessibilityElement,\n} from '../helpers/accessiblity';\nimport { ErrorWithStack } from '../helpers/errors';\nimport { checkHostElement, formatElement } from './utils';\n\nexport function toBeChecked(\n  this: jest.MatcherContext,\n  element: ReactTestInstance\n) {\n  checkHostElement(element, toBeChecked, this);\n\n  if (!hasValidAccessibilityRole(element)) {\n    throw new ErrorWithStack(\n      `toBeChecked() works only on accessibility elements with \"checkbox\" or \"radio\" role.`,\n      toBeChecked\n    );\n  }\n\n  return {\n    pass: getAccessibilityCheckedState(element) === true,\n    message: () => {\n      const is = this.isNot ? 'is' : 'is not';\n      return [\n        matcherHint(`${this.isNot ? '.not' : ''}.toBeChecked`, 'element', ''),\n        '',\n        `Received element ${is} checked:`,\n        formatElement(element),\n      ].join('\\n');\n    },\n  };\n}\n\nfunction hasValidAccessibilityRole(element: ReactTestInstance) {\n  if (!isAccessibilityElement(element)) {\n    return false;\n  }\n\n  const role = getAccessibilityRole(element);\n  return role === 'checkbox' || role === 'radio';\n}\n"],"mappings":";;;;;;AACA,IAAAA,iBAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AAKA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,MAAA,GAAAH,OAAA;AAEO,SAASI,WAAWA,CAEzBC,OAA0B,EAC1B;EAAA,IAAAC,KAAA;EACA,IAAAH,MAAA,CAAAI,gBAAgB,EAACF,OAAO,EAAED,WAAW,EAAE,IAAI,CAAC;EAE5C,IAAI,CAACI,yBAAyB,CAACH,OAAO,CAAC,EAAE;IACvC,MAAM,IAAIH,OAAA,CAAAO,cAAc,CACrB,qFAAoF,EACrFL,WACF,CAAC;EACH;EAEA,OAAO;IACLM,IAAI,EAAE,IAAAT,aAAA,CAAAU,4BAA4B,EAACN,OAAO,CAAC,KAAK,IAAI;IACpDO,OAAO,EAAE,SAATA,OAAOA,CAAA,EAAQ;MACb,IAAMC,EAAE,GAAGP,KAAI,CAACQ,KAAK,GAAG,IAAI,GAAG,QAAQ;MACvC,OAAO,CACL,IAAAf,iBAAA,CAAAgB,WAAW,EAAE,GAAET,KAAI,CAACQ,KAAK,GAAG,MAAM,GAAG,EAAG,cAAa,EAAE,SAAS,EAAE,EAAE,CAAC,EACrE,EAAE,EACD,oBAAmBD,EAAG,WAAU,EACjC,IAAAV,MAAA,CAAAa,aAAa,EAACX,OAAO,CAAC,CACvB,CAACY,IAAI,CAAC,IAAI,CAAC;IACd;EACF,CAAC;AACH;AAEA,SAAST,yBAAyBA,CAACH,OAA0B,EAAE;EAC7D,IAAI,CAAC,IAAAJ,aAAA,CAAAiB,sBAAsB,EAACb,OAAO,CAAC,EAAE;IACpC,OAAO,KAAK;EACd;EAEA,IAAMc,IAAI,GAAG,IAAAlB,aAAA,CAAAmB,oBAAoB,EAACf,OAAO,CAAC;EAC1C,OAAOc,IAAI,KAAK,UAAU,IAAIA,IAAI,KAAK,OAAO;AAChD","ignoreList":[]}