4f5a1ec62bc54142ccefa5e62d361bba
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toBeChecked = toBeChecked;
var _jestMatcherUtils = require("jest-matcher-utils");
var _accessiblity = require("../helpers/accessiblity");
var _errors = require("../helpers/errors");
var _utils = require("./utils");
function toBeChecked(element) {
  var _this = this;
  (0, _utils.checkHostElement)(element, toBeChecked, this);
  if (!hasValidAccessibilityRole(element)) {
    throw new _errors.ErrorWithStack(`toBeChecked() works only on accessibility elements with "checkbox" or "radio" role.`, toBeChecked);
  }
  return {
    pass: (0, _accessiblity.getAccessibilityCheckedState)(element) === true,
    message: function message() {
      var is = _this.isNot ? 'is' : 'is not';
      return [(0, _jestMatcherUtils.matcherHint)(`${_this.isNot ? '.not' : ''}.toBeChecked`, 'element', ''), '', `Received element ${is} checked:`, (0, _utils.formatElement)(element)].join('\n');
    }
  };
}
function hasValidAccessibilityRole(element) {
  if (!(0, _accessiblity.isAccessibilityElement)(element)) {
    return false;
  }
  var role = (0, _accessiblity.getAccessibilityRole)(element);
  return role === 'checkbox' || role === 'radio';
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfamVzdE1hdGNoZXJVdGlscyIsInJlcXVpcmUiLCJfYWNjZXNzaWJsaXR5IiwiX2Vycm9ycyIsIl91dGlscyIsInRvQmVDaGVja2VkIiwiZWxlbWVudCIsIl90aGlzIiwiY2hlY2tIb3N0RWxlbWVudCIsImhhc1ZhbGlkQWNjZXNzaWJpbGl0eVJvbGUiLCJFcnJvcldpdGhTdGFjayIsInBhc3MiLCJnZXRBY2Nlc3NpYmlsaXR5Q2hlY2tlZFN0YXRlIiwibWVzc2FnZSIsImlzIiwiaXNOb3QiLCJtYXRjaGVySGludCIsImZvcm1hdEVsZW1lbnQiLCJqb2luIiwiaXNBY2Nlc3NpYmlsaXR5RWxlbWVudCIsInJvbGUiLCJnZXRBY2Nlc3NpYmlsaXR5Um9sZSJdLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tYXRjaGVycy90by1iZS1jaGVja2VkLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFJlYWN0VGVzdEluc3RhbmNlIH0gZnJvbSAncmVhY3QtdGVzdC1yZW5kZXJlcic7XG5pbXBvcnQgeyBtYXRjaGVySGludCB9IGZyb20gJ2plc3QtbWF0Y2hlci11dGlscyc7XG5pbXBvcnQge1xuICBnZXRBY2Nlc3NpYmlsaXR5Q2hlY2tlZFN0YXRlLFxuICBnZXRBY2Nlc3NpYmlsaXR5Um9sZSxcbiAgaXNBY2Nlc3NpYmlsaXR5RWxlbWVudCxcbn0gZnJvbSAnLi4vaGVscGVycy9hY2Nlc3NpYmxpdHknO1xuaW1wb3J0IHsgRXJyb3JXaXRoU3RhY2sgfSBmcm9tICcuLi9oZWxwZXJzL2Vycm9ycyc7XG5pbXBvcnQgeyBjaGVja0hvc3RFbGVtZW50LCBmb3JtYXRFbGVtZW50IH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0JlQ2hlY2tlZChcbiAgdGhpczogamVzdC5NYXRjaGVyQ29udGV4dCxcbiAgZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2Vcbikge1xuICBjaGVja0hvc3RFbGVtZW50KGVsZW1lbnQsIHRvQmVDaGVja2VkLCB0aGlzKTtcblxuICBpZiAoIWhhc1ZhbGlkQWNjZXNzaWJpbGl0eVJvbGUoZWxlbWVudCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3JXaXRoU3RhY2soXG4gICAgICBgdG9CZUNoZWNrZWQoKSB3b3JrcyBvbmx5IG9uIGFjY2Vzc2liaWxpdHkgZWxlbWVudHMgd2l0aCBcImNoZWNrYm94XCIgb3IgXCJyYWRpb1wiIHJvbGUuYCxcbiAgICAgIHRvQmVDaGVja2VkXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcGFzczogZ2V0QWNjZXNzaWJpbGl0eUNoZWNrZWRTdGF0ZShlbGVtZW50KSA9PT0gdHJ1ZSxcbiAgICBtZXNzYWdlOiAoKSA9PiB7XG4gICAgICBjb25zdCBpcyA9IHRoaXMuaXNOb3QgPyAnaXMnIDogJ2lzIG5vdCc7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBtYXRjaGVySGludChgJHt0aGlzLmlzTm90ID8gJy5ub3QnIDogJyd9LnRvQmVDaGVja2VkYCwgJ2VsZW1lbnQnLCAnJyksXG4gICAgICAgICcnLFxuICAgICAgICBgUmVjZWl2ZWQgZWxlbWVudCAke2lzfSBjaGVja2VkOmAsXG4gICAgICAgIGZvcm1hdEVsZW1lbnQoZWxlbWVudCksXG4gICAgICBdLmpvaW4oJ1xcbicpO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkQWNjZXNzaWJpbGl0eVJvbGUoZWxlbWVudDogUmVhY3RUZXN0SW5zdGFuY2UpIHtcbiAgaWYgKCFpc0FjY2Vzc2liaWxpdHlFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgcm9sZSA9IGdldEFjY2Vzc2liaWxpdHlSb2xlKGVsZW1lbnQpO1xuICByZXR1cm4gcm9sZSA9PT0gJ2NoZWNrYm94JyB8fCByb2xlID09PSAncmFkaW8nO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxpQkFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRCxPQUFBO0FBS0EsSUFBQUUsT0FBQSxHQUFBRixPQUFBO0FBQ0EsSUFBQUcsTUFBQSxHQUFBSCxPQUFBO0FBRU8sU0FBU0ksV0FBV0EsQ0FFekJDLE9BQTBCLEVBQzFCO0VBQUEsSUFBQUMsS0FBQTtFQUNBLElBQUFILE1BQUEsQ0FBQUksZ0JBQWdCLEVBQUNGLE9BQU8sRUFBRUQsV0FBVyxFQUFFLElBQUksQ0FBQztFQUU1QyxJQUFJLENBQUNJLHlCQUF5QixDQUFDSCxPQUFPLENBQUMsRUFBRTtJQUN2QyxNQUFNLElBQUlILE9BQUEsQ0FBQU8sY0FBYyxDQUNyQixxRkFBb0YsRUFDckZMLFdBQ0YsQ0FBQztFQUNIO0VBRUEsT0FBTztJQUNMTSxJQUFJLEVBQUUsSUFBQVQsYUFBQSxDQUFBVSw0QkFBNEIsRUFBQ04sT0FBTyxDQUFDLEtBQUssSUFBSTtJQUNwRE8sT0FBTyxFQUFFLFNBQVRBLE9BQU9BLENBQUEsRUFBUTtNQUNiLElBQU1DLEVBQUUsR0FBR1AsS0FBSSxDQUFDUSxLQUFLLEdBQUcsSUFBSSxHQUFHLFFBQVE7TUFDdkMsT0FBTyxDQUNMLElBQUFmLGlCQUFBLENBQUFnQixXQUFXLEVBQUUsR0FBRVQsS0FBSSxDQUFDUSxLQUFLLEdBQUcsTUFBTSxHQUFHLEVBQUcsY0FBYSxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFDckUsRUFBRSxFQUNELG9CQUFtQkQsRUFBRyxXQUFVLEVBQ2pDLElBQUFWLE1BQUEsQ0FBQWEsYUFBYSxFQUFDWCxPQUFPLENBQUMsQ0FDdkIsQ0FBQ1ksSUFBSSxDQUFDLElBQUksQ0FBQztJQUNkO0VBQ0YsQ0FBQztBQUNIO0FBRUEsU0FBU1QseUJBQXlCQSxDQUFDSCxPQUEwQixFQUFFO0VBQzdELElBQUksQ0FBQyxJQUFBSixhQUFBLENBQUFpQixzQkFBc0IsRUFBQ2IsT0FBTyxDQUFDLEVBQUU7SUFDcEMsT0FBTyxLQUFLO0VBQ2Q7RUFFQSxJQUFNYyxJQUFJLEdBQUcsSUFBQWxCLGFBQUEsQ0FBQW1CLG9CQUFvQixFQUFDZixPQUFPLENBQUM7RUFDMUMsT0FBT2MsSUFBSSxLQUFLLFVBQVUsSUFBSUEsSUFBSSxLQUFLLE9BQU87QUFDaEQiLCJpZ25vcmVMaXN0IjpbXX0=